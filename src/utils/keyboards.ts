import { Markup } from 'telegraf';
import { EMOJIS } from './constants';

// –ì–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
export function getMainKeyboard(showFeedingDetailsButton = false) {
  const keyboard = [];
  
  // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–£—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ—Ä–º–ª–µ–Ω–∏—è" –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
  if (showFeedingDetailsButton) {
    keyboard.push(['üìù –£—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ—Ä–º–ª–µ–Ω–∏—è']);
  }
  
  // –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
  // –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π, —Ç–æ –∫–Ω–æ–ø–∫–∞ "–°–æ–±–∞—á–∫–∞ –ø–æ–µ–ª" –Ω–µ –Ω—É–∂–Ω–∞
  if (!showFeedingDetailsButton) {
    keyboard.push([`${EMOJIS.FEED} –°–æ–±–∞—á–∫–∞ –ø–æ–µ–ª`]);
  }
  
  // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è"
  keyboard.push(['–î—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è']);
  
  return Markup.keyboard(keyboard).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
export function getSettingsKeyboard() {
  return Markup.keyboard([
    ['üçΩÔ∏è –∫–æ—Ä–º', '‚è∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª', 'üîî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏
export function getHistoryKeyboard() {
  return Markup.keyboard([
    ['üìÖ —Å–µ–≥–æ–¥–Ω—è', 'üìã –≤—Å—ë –≤—Ä–µ–º—è'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞ –≥–ª–∞–≤–Ω—É—é"
export function getBackKeyboard() {
  return Markup.keyboard([
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
export function getScheduleManagementKeyboard() {
  return Markup.keyboard([
    ['üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–º–ª–µ–Ω–∏–µ'],
    ['üìã –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ', '‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–º–ª–µ–Ω–∏—è
export function getScheduleFeedingKeyboard() {
  return Markup.keyboard([
    ['‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –≤–≤–æ–¥'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ—Ä–º–ª–µ–Ω–∏–π
export function getScheduledListKeyboard() {
  return Markup.keyboard([
    ['üìÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –∫–æ—Ä–º–ª–µ–Ω–∏–µ'],
    ['‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä–º–ª–µ–Ω–∏—è
export function getScheduledItemKeyboard(scheduleId: number) {
  return Markup.keyboard([
    [`‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∫–æ—Ä–º–ª–µ–Ω–∏–µ ${scheduleId}`],
    ['üìã –ù–∞ –≥–ª–∞–≤–Ω—É—é –∫ —Å–ø–∏—Å–∫—É'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏
export function getFullHistoryKeyboard() {
  return Markup.keyboard([
    ['üì§ –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏', 'üîç –§–∏–ª—å—Ç—Ä—ã'],
    ['‚ñ∂Ô∏è –î–∞–ª–µ–µ'],
    ['‚¨ÖÔ∏è –ù–∞–∑–∞–¥', 'üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
export function getExportKeyboard() {
  return Markup.keyboard([
    ['üìã CSV —Ñ–æ—Ä–º–∞—Ç', 'üåê HTML —Ñ–æ—Ä–º–∞—Ç'],
    ['üìÖ –ó–∞ –Ω–µ–¥–µ–ª—é', 'üóìÔ∏è –ó–∞ –º–µ—Å—è—Ü', 'üìä –í—Å–µ –≤—Ä–µ–º—è'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
export function getPaginationKeyboard(currentPage: number, totalPages: number, hasNext: boolean, hasPrev: boolean) {
  const buttons = [];
  
  // –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  if (hasPrev && hasNext) {
    buttons.push(['‚óÄÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∞—è', '‚ñ∂Ô∏è –°–ª–µ–¥—É—é—â–∞—è']);
  } else if (hasPrev) {
    buttons.push(['‚óÄÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∞—è']);
  } else if (hasNext) {
    buttons.push(['‚ñ∂Ô∏è –°–ª–µ–¥—É—é—â–∞—è']);
  }
  
  // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
  if (totalPages > 1) {
    buttons.push([`üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ ${currentPage} –∏–∑ ${totalPages}`]);
  }
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  buttons.push(['üì§ –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏']);
  buttons.push(['‚¨ÖÔ∏è –ù–∞–∑–∞–¥', 'üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']);
  
  return Markup.keyboard(buttons).resize();
}

// –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
export function getOtherActionsKeyboard() {
  return Markup.keyboard([
    ['‚èπÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–æ—Ä–º–ª–µ–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è'],
    ['üìÖ –í–Ω–µ–æ—á–µ—Ä–µ–¥–Ω—ã–µ –∫–æ—Ä–º–ª–µ–Ω–∏—è', 'üìã –ò—Å—Ç–æ—Ä–∏—è –∫–æ—Ä–º–ª–µ–Ω–∏–π'],
    ['‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏'],
    ['üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é']
  ]).resize();
}
