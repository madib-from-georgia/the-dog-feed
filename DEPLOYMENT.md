# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–æ—Ç–∞

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (polling) –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (webhook).

## üá∑üá∫ Yandex Cloud

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Yandex Cloud —Å–º–æ—Ç—Ä–∏—Ç–µ:

- **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](QUICK_DEPLOY_YANDEX.md)** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞ 10 –º–∏–Ω—É—Ç
- **[–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](YANDEX_CLOUD_DEPLOYMENT.md)** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env`:

```bash
cp env.example .env
```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```env
BOT_TOKEN=your_telegram_bot_token_here
NODE_ENV=development
```

### –ó–∞–ø—É—Å–∫

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
npm run dev

# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ ts-node
npm run dev:ts
```

## –ü—Ä–æ–¥–∞–∫—à–µ–Ω

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
BOT_TOKEN=your_telegram_bot_token_here
NODE_ENV=production
WEBHOOK_URL=https://yourdomain.com
WEBHOOK_PATH=/webhook
PORT=8080
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞
npm run build

# –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npm run start:prod

# –ò–ª–∏ –≤—Å—ë –≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
npm run deploy
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è     | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è      | –û–ø–∏—Å–∞–Ω–∏–µ                           | –ü—Ä–∏–º–µ—Ä                   |
| -------------- | ----------------- | ---------------------------------- | ------------------------ |
| `BOT_TOKEN`    | ‚úÖ                | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞                | `123456:ABC-DEF...`      |
| `NODE_ENV`     | ‚ùå                | –û–∫—Ä—É–∂–µ–Ω–∏–µ (development/production) | `production`             |
| `WEBHOOK_URL`  | ‚úÖ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ | URL –¥–æ–º–µ–Ω–∞ –¥–ª—è webhook             | `https://yourdomain.com` |
| `WEBHOOK_PATH` | ‚ùå                | –ü—É—Ç—å –¥–ª—è webhook                   | `/webhook`               |
| `PORT`         | ‚ùå                | –ü–æ—Ä—Ç –¥–ª—è webhook —Å–µ—Ä–≤–µ—Ä–∞           | `8080`                   |

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –ø–æ `NODE_ENV`:

- `development` ‚Üí polling (–æ–ø—Ä–æ—Å Telegram —Å–µ—Ä–≤–µ—Ä–æ–≤)
- `production` ‚Üí webhook (HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å polling –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:

```bash
NODE_ENV=development npm start
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å webhook –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
NODE_ENV=production WEBHOOK_URL=https://your-ngrok-url.ngrok.io npm run dev:ts
```

## –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∂–∏–º–µ –∑–∞–ø—É—Å–∫–∞:

```
–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ: production
–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ webhook:
  URL: https://yourdomain.com/webhook
  Port: 8080
–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ webhook!
```

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook –¥–æ—Å—Ç—É–ø–µ–Ω:

```bash
curl -X POST https://yourdomain.com/webhook
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞

–í Telegram –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```
/status
```

### –ê–¥–º–∏–Ω –∫–æ–º–∞–Ω–¥—ã

- `/notifications` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `/scheduler` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
