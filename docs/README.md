# Телеграм-бот для кормления собаки

## Описание проекта

Телеграм-бот для координации кормления одной собаки между несколькими пользователями (до 3 человек). Бот отслеживает время кормлений, отправляет напоминания и ведет историю.

## Технические требования

- **Платформа**: macOS, Node.js, TypeScript
- **База данных**: SQLite (локальная)
- **Основные библиотеки**: Telegraf, sqlite3, dotenv
- **Принцип разработки**: MVP с итеративным усложнением

## Основная функциональность

### Экраны бота:
1. **Главный экран** - 4 кнопки: "Я покормил", "Завершить кормления на сегодня", "Настройки", "История кормлений"
2. **Настройки** - "корм", "Настройки интервала кормления", "Настройки уведомлений"
3. **корм** - "Тип корма" (Сухой/Влажный), "Количество корма" (1-200г)
4. **Успешное кормление** - "Уточнить детали кормления", "Выйти на главный экран"
5. **История кормлений** - "Сегодня", "Все кормления"
6. **Экспорт** - CSV и HTML форматы

### Ключевые особенности:
- **Автоматические напоминания** каждые 3.5 часа (настраивается)
- **Повторные уведомления** каждые 10 минут до кормления
- **Многопользовательность** - все кормят одну собаку
- **Персональные настройки уведомлений** для каждого пользователя
- **Глобальные настройки корма** для всех пользователей

## Настройки по умолчанию

- **Интервал кормления**: 3.5 часа
- **Тип корма**: Сухой
- **Количество корма**: 12 граммов
- **Уведомления**: Включены для всех пользователей

## Структура проекта

```
dog-tg-bot/
├── src/
│   ├── bot.ts              # Основной файл бота
│   ├── database/           # Работа с SQLite
│   ├── handlers/           # Обработчики команд и кнопок
│   ├── services/           # Бизнес-логика (таймеры, уведомления)
│   ├── scenes/             # Сцены для различных экранов
│   ├── types/              # TypeScript типы
│   └── utils/              # Вспомогательные функции
├── docs/                   # Документация и планы разработки
├── package.json
├── tsconfig.json
├── .env.example
└── README.md
```

## План итеративной разработки

Проект разбит на 10 этапов, каждый из которых дает работающее приложение:

1. **Базовый бот** - Минимальный бот с кнопкой "Я покормил" ✅
2. **Простые таймеры** - Автоматические напоминания через 3.5 часа ✅
3. **Главный экран** - Полный главный экран с навигацией ✅
4. **Базовые настройки** - Настройка интервала кормления ✅
5. **История кормлений** - Просмотр кормлений за сегодня ✅
6. **корм** - Тип и количество корма ✅
7. **Детали кормления** - Уточнение деталей после кормления ✅
8. **Управление уведомлениями** - Персональные настройки ✅
9. **Полная история** - Вся история и экспорт данных
10. **Управление кормлениями** - Отмена/создание следующего кормления

Подробное описание каждого этапа находится в соответствующих файлах в папке `docs/stages/`.
